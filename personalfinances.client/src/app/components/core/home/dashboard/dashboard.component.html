<!-- <app-transaction-add
  *ngIf="showModal"
  [editingIndex]="editingIndex"
  (close)="closeModal()">
</app-transaction-add> -->

<app-header></app-header>
<main class="container1">
  <section id="balanco">
    <div class="card">
      <h3>Entradas</h3>
      <span>
        <img src="assets/img/input.png" alt="Entradas" class="img-icon-responsive">
      </span>
      <p>{{ totals.totalIncome | currency:'EUR':'symbol':'1.2-2' }}</p>
    </div>
    <div class="card">
      <h3>Saídas</h3>
      <span>
        <img src="assets/img/output.png" alt="Saídas" class="img-icon-responsive">
      </span>
      <p>{{ totals.totalExpenses | currency:'EUR':'symbol':'1.2-2' }}</p>
    </div>
    <div class="card total">
      <h3>Total</h3>
      <span>
        <svg width="35" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg" class="img-icon-responsive">
          <path d="M3.5 16.25C1.56734 16.25 0 15.1328 0 13.75C0 12.3672 1.56734 11.25 3.5 11.25H6.59422C9.83281 4.69609 18.4953 0 28.875 0H31.5C33.4359 0 35 1.11953 35 2.5C35 3.88047 33.4359 5 31.5 5H28.875C22.5422 5 17.0406 7.53125 14.2297 11.25H28C29.9359 11.25 31.5 12.3672 31.5 13.75C31.5 15.1328 29.9359 16.25 28 16.25H12.2719C12.2609 16.4531 12.25 16.6641 12.25 16.875V18.125C12.25 18.3359 12.2609 18.5469 12.2719 18.75H28C29.9359 18.75 31.5 19.8672 31.5 21.25C31.5 22.6328 29.9359 23.75 28 23.75H14.2297C17.0406 27.4687 22.5422 30 28.875 30H31.5C33.4359 30 35 31.1172 35 32.5C35 33.8828 33.4359 35 31.5 35H28.875C18.4953 35 9.83281 30.3047 6.59422 23.75H3.5C1.56734 23.75 0 22.6328 0 21.25C0 19.8672 1.56734 18.75 3.5 18.75H5.26641C5.25547 18.5391 5.25 18.3359 5.25 18.125V16.875C5.25 16.6641 5.25547 16.4609 5.26641 16.25H3.5Z" fill="white"/>
        </svg>
      </span>
      <p>{{ totals.totalBalance | currency:'EUR':'symbol':'1.2-2' }}</p>
    </div>
  </section>
  <section id="transicao">
    <div class="add" (click)="openModal()">
      <svg width="30" height="34" viewBox="0 0 30 34" fill="none" xmlns="http://www.w3.org/2000/svg" class="img-add">
        <path d="M28.9286 17C28.9286 18.1747 27.969 19.1257 26.7857 19.1257H17.1428V28.6882C17.1428 29.8629 16.1832 30.8125 15 30.8125C13.8167 30.8125 12.8571 29.8629 12.8571 28.6882V19.1257H3.21427C2.03101 19.1257 1.07141 18.1747 1.07141 17C1.07141 15.8253 2.03101 14.8757 3.21427 14.8757H12.8571V5.31316C12.8571 4.13844 13.8167 3.1875 15 3.1875C16.1832 3.1875 17.1428 4.13844 17.1428 5.31316V14.8757H26.7857C27.971 14.875 28.9286 15.8246 28.9286 17Z" fill="#49AA26"/>
      </svg>
      <span class="button">Adicionar Transações</span>
    </div>

    <table id="dados-tabela">
      <thead>
        <tr>
          <th>Descrição</th>
          <th>Valor</th>
          <th>Data</th>
          <th>Alterar</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let transaction of transactions; let i = index">
          <td class="descricao">{{ transaction.description }}</td>
          <td [class.ganho]="transaction.amount > 0" [class.perda]="transaction.amount < 0">
            {{ transaction.amount }}€
          </td>
          <td>{{ transaction.date | dateFormat: 'dd-MM-yyyy' }}</td>
          <td class="altera-apaga">
            <div class="icons">
              <svg class="alterar" (click)="editTransaction(transaction)" width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M17.2963 9.03574L7.73144 18.5965L6.34101 17.2061L6.48456 17.0625H4.59374C4.23281 17.0625 3.93749 16.7672 3.93749 16.4062V14.5154L3.79435 14.659C3.60034 14.8559 3.45802 15.0937 3.3805 15.3562L2.43796 18.5637L5.64374 17.6203C5.86933 17.5424 6.14413 17.3988 6.34101 17.2061L7.73144 18.5965C7.30488 19.023 6.77578 19.3389 6.19745 19.507L1.26204 20.959C0.91669 21.0615 0.543038 20.9672 0.288331 20.676C0.0336154 20.4586 -0.0616148 20.0853 0.040022 19.7367L1.49173 14.8025C1.66235 14.2242 1.9753 13.6951 2.40228 13.2686L11.9643 3.70535L17.2963 9.03574ZM20.2084 2.40966C21.2338 3.43465 21.2338 5.09824 20.2084 6.12363L18.2232 8.10879L12.8912 2.77758L14.8764 0.792419C15.9018 -0.23289 17.567 -0.23289 18.5924 0.792419L20.2084 2.40966Z" fill="black"/>
              </svg>

              <svg width="19" height="30" class="remove-list" (click)="deleteTransaction(i)" viewBox="0 0 19 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_2_63)">
                  <path d="M18.4419 21.1758C19.1841 21.9082 19.1841 23.0947 18.4419 23.8271C18.0737 24.1934 17.5869 24.375 17.1 24.375C16.6131 24.375 16.1274 24.1919 15.7569 23.8257L9.5 17.6543L3.24366 23.8242C2.87256 24.1934 2.38628 24.375 1.9 24.375C1.41372 24.375 0.928031 24.1919 0.556641 23.8242C-0.185547 23.0918 -0.185547 21.9053 0.556641 21.1728L6.81477 14.9971L0.556641 8.82422C-0.185547 8.0918 -0.185547 6.90527 0.556641 6.17285C1.29883 5.44043 2.50117 5.44043 3.24336 6.17285L9.5 12.3516L15.7581 6.17578C16.5003 5.44336 17.7027 5.44336 18.4448 6.17578C19.187 6.9082 19.187 8.09473 18.4448 8.82715L12.1867 15.0029L18.4419 21.1758Z" fill="#FF0000"/>
                </g>
                <defs>
                  <clipPath id="clip0_2_63">
                    <rect width="19" height="30" fill="white"/>
                  </clipPath>
                </defs>
              </svg>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </section>
</main>
<app-footer></app-footer>
